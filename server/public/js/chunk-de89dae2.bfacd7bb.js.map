{"version":3,"sources":["webpack:///./src/views/Ticket.vue?53ea","webpack:///./src/common/constants.js","webpack:///src/views/Ticket.vue","webpack:///./src/views/Ticket.vue?5b37","webpack:///./src/views/Ticket.vue","webpack:///./src/views/Ticket.vue?fb19"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","directives","name","rawName","value","$v","form","title","expression","modifiers","domProps","on","$event","target","composing","$set","trim","$forceUpdate","onInput","tags","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","_l","tag","key","_s","preventDefault","onSubmit","staticRenderFns","TAGS","components","QuillEditor","data","content","imageUrl","photo","photoUrl","methods","onSelect","URL","createObjectURL","$model","ev","getHTML","file","formData","append","$store","dispatch","$router","push","validations","required","minLength","maxLength","component"],"mappings":"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","file":"js/chunk-de89dae2.bfacd7bb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ticket-new my-5\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xs-12 col-md-8 col-md-offset-2 mx-auto\"},[_c('h2',[_vm._v(\"Create New ticket\")]),_c('div',{staticClass:\"well\"},[_c('div',[_c('div',{staticClass:\"form-group control-label\"},[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(\"Title\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.$v.form.title.$model),expression:\"$v.form.title.$model\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"title\",\"placeholder\":\"Enter a title for your post\",\"name\":\"title\"},domProps:{\"value\":(_vm.$v.form.title.$model)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.$v.form.title, \"$model\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"content\"}},[_vm._v(\"Content\")]),_c('quill-editor',{on:{\"input\":function($event){return _vm.onInput($event)}}})],1),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"tags\"}},[_vm._v(\"Tags\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.$v.form.tags.$model),expression:\"$v.form.tags.$model\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"id\":\"tags\",\"placeholder\":\"Choose your tag\",\"name\":\"tags\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.$v.form.tags, \"$model\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.tags),function(tag){return _c('option',{key:tag},[_vm._v(\"\\n                  \"+_vm._s(tag)+\"\\n                \")])}),0)]),_c('button',{staticClass:\"btn btn-success\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_vm._v(\"\\n              Send Ticket\\n            \")])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const TAGS = ['html', 'css', 'js', 'node', 'vue', 'angular', 'react'];\n","<template>\n  <div class=\"ticket-new my-5\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-xs-12 col-md-8 col-md-offset-2 mx-auto\">\n          <h2>Create New ticket</h2>\n\n          <div class=\"well\">\n            <div>\n              <div class=\"form-group control-label\">\n                <label for=\"title\">Title</label>\n                <input\n                  type=\"text\"\n                  v-model.trim=\"$v.form.title.$model\"\n                  class=\"form-control\"\n                  id=\"title\"\n                  placeholder=\"Enter a title for your post\"\n                  name=\"title\"\n                />\n              </div>\n              <div class=\"form-group\">\n                <label for=\"content\">Content</label>\n                <!-- <textarea\n                  v-model.trim=\"$v.form.content.$model\"\n                  class=\"form-control\"\n                  rows=\"5\"\n                  id=\"content\"\n                  placeholder=\"Write your issue\"\n                  name=\"content\"\n                >\n                </textarea> -->\n\n                <quill-editor @input=\"onInput($event)\"></quill-editor>\n              </div>\n              <div class=\"form-group\">\n                <label for=\"tags\">Tags</label>\n                <select\n                  v-model.trim=\"$v.form.tags.$model\"\n                  class=\"form-control\"\n                  id=\"tags\"\n                  placeholder=\"Choose your tag\"\n                  name=\"tags\"\n                >\n                  <option v-for=\"tag in tags\" :key=\"tag\">\n                    {{ tag }}\n                  </option>\n                </select>\n              </div>\n\n              <!-- <div v-if=\"photoUrl\" class=\"preview-container col-6 p-2 mb-2\">\n                <div class=\"preview mx-auto\">\n                  <img :src=\"photoUrl\" />\n                </div>\n              </div>\n\n              <div class=\"form-group\">\n                <input\n                  id=\"photo\"\n                  type=\"file\"\n                  ref=\"photo\"\n                  name=\"photo\"\n                  @change=\"onSelect\"\n                />\n              </div> -->\n\n              <!-- <div class=\"form-group\">\n                <input\n                  type=\"text\"\n                  id=\"imageUrl\"\n                  ref=\"imageUrl\"\n                  name=\"imageUrl\"\n                  readonly\n                  v-model.trim=\"$v.form.imageUrl.$model\"\n                />\n              </div> -->\n\n              <button\n                type=\"button\"\n                @click.prevent=\"onSubmit\"\n                class=\"btn btn-success\"\n              >\n                Send Ticket\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { TAGS } from '../common/constants';\nimport { required, minLength, maxLength } from 'vuelidate/lib/validators';\nimport { SAVE_TICKET } from '../store/actions.type';\nimport QuillEditor from '../components/QuillEditor';\n\nexport default {\n  name: 'Ticket',\n  components: {\n    QuillEditor\n  },\n\n  data() {\n    return {\n      form: {\n        title: '',\n        content: '',\n        tags: [''],\n        imageUrl: '',\n        photo: {}\n      },\n      photoUrl: '',\n      tags: TAGS\n    };\n  },\n\n  methods: {\n    onSelect() {\n      const photo = this.$refs.photo.files[0];\n      this.photoUrl = URL.createObjectURL(photo);\n      this.form.photo = photo;\n      this.$v.form.imageUrl.$model = this.photoUrl;\n    },\n\n    onInput(ev) {\n      this.form.content = ev.getHTML;\n      this.form.photo = ev.file;\n      this.form.imageUrl = ev.file.photoUrl;\n    },\n\n    onSubmit() {\n      const formData = new FormData();\n\n      formData.append('title', this.form.title);\n      formData.append('content', this.form.content);\n      formData.append('tags', this.form.tags);\n      formData.append('imageUrl', this.form.imageUrl);\n\n      if (this.form.photo) {\n        formData.append('photo', this.form.photo);\n      }\n\n      this.$store.dispatch(SAVE_TICKET, formData);\n      this.$router.push({ name: 'home' });\n    }\n  },\n\n  validations: {\n    form: {\n      title: {\n        required,\n        minLength: minLength(5)\n      },\n      content: {\n        required,\n        minLength: minLength(10),\n        maxLength: maxLength(500)\n      },\n      imageUrl: {},\n      tags: {\n        required\n      },\n      file: {}\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.preview-container {\n  border: 1px solid #ccc;\n\n  .preview {\n\n    img {\n      width: 100%;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ticket.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ticket.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Ticket.vue?vue&type=template&id=d238eca8&scoped=true&\"\nimport script from \"./Ticket.vue?vue&type=script&lang=js&\"\nexport * from \"./Ticket.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Ticket.vue?vue&type=style&index=0&id=d238eca8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d238eca8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ticket.vue?vue&type=style&index=0&id=d238eca8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ticket.vue?vue&type=style&index=0&id=d238eca8&lang=scss&scoped=true&\""],"sourceRoot":""}